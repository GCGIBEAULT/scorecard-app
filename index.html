<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Modular Scorecard</title>
      <label for="handicap"><strong>Your Handicap:</strong></label>
<input type="number" id="handicap" min="0" max="54" style="width: 60px; margin-left: 10px;" />
<br><br>
  <style>
    body { font-family: sans-serif; padding: 1em; max-width: 600px; margin: auto; }
    button { margin: 5px; padding: 10px 15px; font-size: 16px; }
    .stat-block { margin-bottom: 1em; }
    #hole-view h2 { margin-bottom: 0.5em; }
  </style>
</head>
<body>
  <h1>Modular Scorecard</h1>

  <section id="stat-selector">
    <h2>Select Stats to Track</h2>
    <label><input type="checkbox" value="score" checked /> Score</label>
    <label><input type="checkbox" value="putts" checked /> Putts</label>
    <label><input type="checkbox" value="gir" checked /> Greens in Regulation</label>
    <label><input type="checkbox" value="fairway" checked /> Fairways Hit</label>
    <br><br>
    <button onclick="startRound()">Start Round</button>
  </section>

  <section id="hole-view"></section>

  <script>
    let currentHole = 1;
    const totalHoles = 18;
    let selectedStats = [];
    const roundData = {};

    function startRound() {
      selectedStats = Array.from(document.querySelectorAll("#stat-selector input:checked")).map(cb => cb.value);
      document.getElementById("stat-selector").style.display = "none";
      renderHole(currentHole);
    }

    function renderHole(hole) {
      const container = document.getElementById("hole-view");
      container.innerHTML = `<h2>Hole ${hole}</h2>`;
      selectedStats.forEach(stat => {
        const statBlock = document.createElement("div");
        statBlock.className = "stat-block";
        statBlock.innerHTML = `<strong>${label(stat)}</strong><br>`;
        const options = getOptions(stat);
        options.forEach(opt => {
          const btn = document.createElement("button");
          btn.textContent = opt.label;
          btn.onclick = () => {
            if (!roundData[hole]) roundData[hole] = {};
            roundData[hole][stat] = opt.value;
            advanceStatOrHole(stat);
          };
          statBlock.appendChild(btn);
        });
        container.appendChild(statBlock);
      });
    }

    function label(stat) {
      return {
        score: "Score",
        putts: "Putts",
        gir: "Greens in Regulation",
        fairway: "Fairways Hit"
      }[stat];
    }

    function getOptions(stat) {
      if (stat === "score") return Array.from({length: 8}, (_, i) => ({ label: i+1, value: i+1 }));
      if (stat === "putts") return Array.from({length: 5}, (_, i) => ({ label: i, value: i }));
      if (stat === "gir" || stat === "fairway") return [
        { label: "✅ Yes", value: true },
        { label: "❌ No", value: false }
      ];
      return [];
    }

    function advanceStatOrHole(lastStat) {
      const statsEntered = Object.keys(roundData[currentHole] || {});
      if (stats
